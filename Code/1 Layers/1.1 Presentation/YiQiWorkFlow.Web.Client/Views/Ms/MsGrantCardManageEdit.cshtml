@model YiQiWorkFlow.Domain.Ms.MsGrantCardManage
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>卡发放管理</title>
    <link type="text/css" rel="Stylesheet" href="/Styles/editPage.css" />
    <script type="text/javascript" src="/scripts/boot.js"></script>
    <script type="text/javascript" src="/Scripts/editPage.js"></script>
    <script type="text/javascript"> var pageTitle = "卡发放管理"; var formChanged = false; var pageType = "Edit"; var createTime = "2014/2/15 19:58:51"; var id = "@Model.Id"; pageName = "MsGrantCardManageEdit"; </script>
    <script type="text/javascript">
        function SaveData() {
            var form = new mini.Form("#formMain"); // default form
            var o = form.getData(true);
            $.ajax({
                url: "/Ms/SaveMsGrantCardManage",
                type: 'post',
                data: o,
                cache: false,
                dataType: "json",
                success: function (r) {
                    if (r.IsSuccess == true) {
                        // 打开新增页面
                        location.href = "/Ms/MsGrantCardManageEdit";
                    } else {
                        $("#Tooltip_Critical_MsGrantCardManage .content").first().text(r.Message);
                        $("#Tooltip_Critical_MsGrantCardManage").show("fast");
                        form.unmask();
                        $(document).scrollTop(0);
                    }
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    $("#Tooltip_Critical_MsGrantCardManage .content").first().text(jqXHR.responseText);
                    $("#Tooltip_Critical_MsGrantCardManage").show("fast");
                    form.unmask();
                    $(document).scrollTop(0);
                }
            });
        }

        //function ValidateData() {
        //    // 验证
        //    if (mini.get('#Control_IfExamine').getValue() == "1") {
        //        mini.alert("已经发放不能再次发放！");
        //        return false;
        //    }

        //    return true;
        //}

        function onButtonEdit(e) {
            var btnEdit = this;
            mini.open({
                url: "/Common/MemberArchivesSelector",
                showMaxButton: false,
                title: "选择会员",
                width: 600,
                height: 400,
                ondestroy: function (action) {
                    if (action == "ok") {
                        var iframe = this.getIFrameEl();
                        var data = iframe.contentWindow.GetData();
                        data = mini.clone(data);
                        if (data) {
                            for (var i = 0; i < data.length; i++) {
                                btnEdit.setValue(data[i].id);
                                btnEdit.setText(data[i].text);

                                // 绑定会员信息
                                var msCode = data[i].msCode;
                                if (msCode) {
                                    $.ajax({
                                        url: "/Ms/SearchMsMemberArchivesList?MsCode=" + msCode,
                                        type: 'post',
                                        cache: false,
                                        dataType: "json",
                                        success: function (msData) {
                                            var data = msData.data;
                                            if (data) {
                                                // 绑定
                                                for (var i = 0; i < data.length; i++) {
                                                    mini.get('Control_MsCode').setValue(data[i].MsCode);
                                                    mini.get('Control_MsName').setValue(data[i].MsName);
                                                    mini.get('Control_Birthday').setValue(data[i].Birthday);
                                                    mini.get('Control_Sex').setValue(data[i].Sex);
                                                    mini.get('Control_PoliticsCode').setValue(data[i].PoliticsCode);
                                                    mini.get('Control_NationCode').setValue(data[i].NationCode);
                                                    mini.get('Control_EducationCode').setValue(data[i].EducationCode);
                                                    mini.get('Control_ProfessionalTitleCode').setValue(data[i].ProfessionalTitleCode);
                                                    mini.get('Control_IfMarried').setValue(data[i].IfMarried);
                                                    mini.get('Control_NativePlace').setValue(data[i].NativePlace);;
                                                    mini.get('Control_Idcard').setValue(data[i].Idcard);
                                                    mini.get('Control_FamilyPhone').setValue(data[i].FamilyPhone);
                                                    mini.get('Control_Handset').setValue(data[i].Handset);
                                                    mini.get('Control_eMail').setValue(data[i].eMail);
                                                    mini.get('Control_FamilyAddress').setValue(data[i].FamilyAddress);
                                                    mini.get('Control_Postalcode').setValue(data[i].Postalcode);
                                                    mini.get('Control_Stature').setValue(data[i].Stature);
                                                    mini.get('Control_Width').setValue(data[i].Width);

                                                    break;
                                                };

                                            } else {
                                                $("#Tooltip_Critical_MsGrantCardManage .content").first().text(r.Message);
                                                $("#Tooltip_Critical_MsGrantCardManage").show("fast");
                                                form.unmask();
                                                $(document).scrollTop(0);
                                            }
                                        },
                                        error: function (jqXHR, textStatus, errorThrown) {
                                            $("#Tooltip_Critical_MsGrantCardManage .content").first().text(jqXHR.responseText);
                                            $("#Tooltip_Critical_MsGrantCardManage").show("fast");
                                            form.unmask();
                                            $(document).scrollTop(0);
                                        }
                                    });
                                }

                                break;
                            };
                        }
                    }
                }
            });
        }

        function onButtonEditCard() {
            var btnEdit = this;
            mini.open({
                url: "/Common/CardArchivesSelector",
                showMaxButton: false,
                title: "选择卡信息",
                width: 600,
                height: 400,
                ondestroy: function (action) {
                    if (action == "ok") {
                        var iframe = this.getIFrameEl();
                        var data = iframe.contentWindow.GetData();
                        data = mini.clone(data);
                        if (data) {
                            for (var i = 0; i < data.length; i++) {

                                btnEdit.setValue(data[0].id);
                                btnEdit.setText(data[0].id);

                                // 赋值卡明码
                                var txtSurfaceNumber = mini.get('#Control_SurfaceNumber');
                                if (txtSurfaceNumber) {
                                    txtSurfaceNumber.setValue(data[0].surfaceNumber);
                                }

                                // 赋值卡类型编码
                                var txtCardCode = mini.get('#Control_CardCode');
                                if (txtCardCode) {
                                    txtCardCode.setValue(data[0].cardCode);
                                }
                                // 赋值卡类型名称
                                var txtCardName = mini.get('#Control_CardName');
                                if (txtCardName) {
                                    txtCardName.setValue(data[0].cardName);
                                }

                                break;
                            }
                        }
                    }
                }
            });
        }

        function onButtonEditEnterprise() {
            var btnEdit = this;
            mini.open({
                url: "/Common/EnterpriseArchivesSelector",
                showMaxButton: false,
                title: "选择企业信息",
                width: 600,
                height: 400,
                ondestroy: function (action) {
                    if (action == "ok") {
                        var iframe = this.getIFrameEl();
                        var data = iframe.contentWindow.GetData();
                        data = mini.clone(data);
                        if (data) {
                            for (var i = 0; i < data.length; i++) {
                                btnEdit.setValue(data[i].id);
                                btnEdit.setText(data[i].text);

                                break;
                            };
                        }
                    }
                }
            });
        }

        function onCloseClick(e) {
            var obj = e.sender;
            obj.setText("");
            obj.setValue("");
        }

        function onvaluechanged(e) {
            if (e && e.selected) {
                // 赋值卡信息(卡号、卡状态、卡类型信息(卡类型编码、卡类型名称)、生效日期、积分有效期、卡有效期、办卡费用、押金金额)
                mini.get('#Control_CardNumber').setValue(e.selected.Id);
                mini.get('#Control_CardState').setValue(e.selected.CardState);
                mini.get('#Control_CardCode').setValue(e.selected.CardCode);
                mini.get('#Control_CardName').setValue(e.selected.CardName);
                mini.get('#Control_EffectiveDate').setValue(e.selected.EffectiveDate);
                mini.get('#Control_PointsUsefulLifeDate').setValue(e.selected.PointsUsefulLifeDate);
                mini.get('#Control_CardUsefulLifeDate').setValue(e.selected.CardUsefulLifeDate);
                mini.get('#Control_TransactCharge').setValue(e.selected.TransactCharge);
                mini.get('#Control_DepositMoney').setValue(e.selected.DepositMoney);
            }
        }

        $(function () {
            var grantNumber = mini.get('#Control_GrantNumber').getValue();
            if (grantNumber) {
                // 编辑页面 保存不可用只可以审核
                $('#btnFormSubmit').attr('disabled', "true");
                //$('#btnFormReset').attr('disabled', "true");
            } else {
                // 老会员,清空数据,右侧无法编辑 赋值
                mini.get('Control_MsCode').disable();
                mini.get('Control_MsName').disable();
                mini.get('Control_Birthday').disable();
                mini.get('Control_Sex').disable();
                mini.get('Control_PoliticsCode').disable();
                mini.get('Control_NationCode').disable();
                mini.get('Control_EducationCode').disable();
                mini.get('Control_ProfessionalTitleCode').disable();
                mini.get('Control_IfMarried').disable();
                mini.get('Control_NativePlace').disable();
                mini.get('Control_Idcard').disable();
                mini.get('Control_FamilyPhone').disable();
                mini.get('Control_Handset').disable();
                mini.get('Control_eMail').disable();
                mini.get('Control_FamilyAddress').disable();
                mini.get('Control_Postalcode').disable();
                mini.get('Control_Stature').disable();
                mini.get('Control_Width').disable();

                mini.get('Control_MsCode').setValue('');
                mini.get('Control_MsName').setValue('');
                mini.get('Control_Birthday').setValue('');
                mini.get('Control_Sex').setValue('');
                mini.get('Control_PoliticsCode').setValue('');
                mini.get('Control_NationCode').setValue('');
                mini.get('Control_EducationCode').setValue('');
                mini.get('Control_ProfessionalTitleCode').setValue('');
                mini.get('Control_IfMarried').setValue('');
                mini.get('Control_NativePlace').setValue('');
                mini.get('Control_Idcard').setValue('');
                mini.get('Control_FamilyPhone').setValue('');
                mini.get('Control_Handset').setValue('');
                mini.get('Control_eMail').setValue('');
                mini.get('Control_FamilyAddress').setValue('');
                mini.get('Control_Postalcode').setValue('');
                mini.get('Control_Stature').setValue('');
                mini.get('Control_Width').setValue('');
            }
        });

        function onMemberTypeValueChanged(e) {
            if (e) {
                if (e.selected.id == 1) {
                    // 新会员,清空数据,右侧可以编辑
                    mini.get('Control_MsCode').enable();
                    mini.get('Control_MsName').enable();
                    mini.get('Control_Birthday').enable();
                    mini.get('Control_Sex').enable();
                    mini.get('Control_PoliticsCode').enable();
                    mini.get('Control_NationCode').enable();
                    mini.get('Control_EducationCode').enable();
                    mini.get('Control_ProfessionalTitleCode').enable();
                    mini.get('Control_IfMarried').enable();
                    mini.get('Control_NativePlace').enable();
                    mini.get('Control_Idcard').enable();
                    mini.get('Control_FamilyPhone').enable();
                    mini.get('Control_Handset').enable();
                    mini.get('Control_eMail').enable();
                    mini.get('Control_FamilyAddress').enable();
                    mini.get('Control_Postalcode').enable();
                    mini.get('Control_Stature').enable();
                    mini.get('Control_Width').enable();

                    mini.get('Control_MsCode').setValue('');
                    mini.get('Control_MsName').setValue('');
                    mini.get('Control_Birthday').setValue('');
                    mini.get('Control_Sex').setValue('');
                    mini.get('Control_PoliticsCode').setValue('');
                    mini.get('Control_NationCode').setValue('');
                    mini.get('Control_EducationCode').setValue('');
                    mini.get('Control_ProfessionalTitleCode').setValue('');
                    mini.get('Control_IfMarried').setValue('');
                    mini.get('Control_NativePlace').setValue('');
                    mini.get('Control_Idcard').setValue('');
                    mini.get('Control_FamilyPhone').setValue('');
                    mini.get('Control_Handset').setValue('');
                    mini.get('Control_eMail').setValue('');
                    mini.get('Control_FamilyAddress').setValue('');
                    mini.get('Control_Postalcode').setValue('');
                    mini.get('Control_Stature').setValue('');
                    mini.get('Control_Width').setValue('');

                } else {
                    // 老会员,清空数据,右侧无法编辑 赋值
                    mini.get('Control_MsCode').disable();
                    mini.get('Control_MsName').disable();
                    mini.get('Control_Birthday').disable();
                    mini.get('Control_Sex').disable();
                    mini.get('Control_PoliticsCode').disable();
                    mini.get('Control_NationCode').disable();
                    mini.get('Control_EducationCode').disable();
                    mini.get('Control_ProfessionalTitleCode').disable();
                    mini.get('Control_IfMarried').disable();
                    mini.get('Control_NativePlace').disable();
                    mini.get('Control_Idcard').disable();
                    mini.get('Control_FamilyPhone').disable();
                    mini.get('Control_Handset').disable();
                    mini.get('Control_eMail').disable();
                    mini.get('Control_FamilyAddress').disable();
                    mini.get('Control_Postalcode').disable();
                    mini.get('Control_Stature').disable();
                    mini.get('Control_Width').disable();

                    mini.get('Control_MsCode').setValue('');
                    mini.get('Control_MsName').setValue('');
                    mini.get('Control_Birthday').setValue('');
                    mini.get('Control_Sex').setValue('');
                    mini.get('Control_PoliticsCode').setValue('');
                    mini.get('Control_NationCode').setValue('');
                    mini.get('Control_EducationCode').setValue('');
                    mini.get('Control_ProfessionalTitleCode').setValue('');
                    mini.get('Control_IfMarried').setValue('');
                    mini.get('Control_NativePlace').setValue('');
                    mini.get('Control_Idcard').setValue('');
                    mini.get('Control_FamilyPhone').setValue('');
                    mini.get('Control_Handset').setValue('');
                    mini.get('Control_eMail').setValue('');
                    mini.get('Control_FamilyAddress').setValue('');
                    mini.get('Control_Postalcode').setValue('');
                    mini.get('Control_Stature').setValue('');
                    mini.get('Control_Width').setValue('');
                }
            }
        }

        function Add() {
            location.href = "/Ms/MsGrantCardManageEdit";
        }

        function Search() {
            location.href = "/Ms/MsGrantCardManageList";
        }

        mini.parse();

        var grid = mini.get("datagridCard");
        var keyText = mini.get("keyText");

        grid.load();

        function onLookUpSearchClick(e) {
            grid.load({
                key: keyText.value
            });
        }
        function onLookUpCloseClick(e) {
            var lookup2 = mini.get("Control_SurfaceNumber");
            lookup2.hidePopup();
        }
        function onLookUpClearClick(e) {
            var lookup2 = mini.get("Control_SurfaceNumber");
            lookup2.deselectAll();
        }

    </script>

    <style type="text/css">
        html {
            min-height: 100%;
            height: 100%;
        }

        body {
            margin: 0;
            padding: 0;
            min-height: 100%;
            height: 100%;
        }

        #content {
            padding: 0 0 0 0;
            margin: auto;
            width: 95%;
            min-height: 95%;
            height: 95%;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="toolbar1" class="mini-toolbar" style="padding: 2px;">
            <table style="width: 100%;">
                <tr>
                    <td>

                        <a id="btnAdd" iconcls="icon-add" class="mini-button" plain="true" tooltip="增加">增加</a>
                        <a id="btnFormSubmit" iconcls="icon-save" class="mini-button" plain="true" tooltip="发放(Ctrl+S)">发放</a>
                        <a id="btnSearch" iconcls="icon-search" class="mini-button" plain="true" tooltip="查询">查询</a>
                        <!--<a id="btnFormReset" iconcls="icon-undo" class="mini-button" plain="true" tooltip="重置(Esc)">重置</a>-->
                        <a id="btnClosePage" iconcls="icon-no" class="mini-button" plain="true" tooltip="关闭(Ctrl+Q)">关闭</a>
                    </td>
                </tr>
            </table>
        </div>
        <!--<h1>卡发放管理
        </h1>-->
        <div class="tooltip warning hidden" id="Tooltip_Warning_MsGrantCardManage">
            <img src="/images/Warning.png" alt="Warning" height="48" width="48" />
            <p class="content">
                此处填写关于卡发放编辑页面的警告信息
            </p>
            <div class="button-close">
                x
            </div>
            <div class="buttonGroup">
                <input type="button" class="myYellowButton buttonNoMoreShow" value="不再显示" />
                <input type="button" class="myYellowButton buttonClose" value="关闭" />
            </div>
        </div>
        <div class="tooltip info hidden" id="Tooltip_Info_MsGrantCardManage">
            <img src="/images/Info.png" alt="Warning" height="48" width="48" />
            <p class="content">
                此处填写关于卡发放编辑页面的提示信息
            </p>
            <div class="button-close">
                x
            </div>
            <div class="buttonGroup">
                <input type="button" class="myYellowButton buttonNoMoreShow" value="不再显示" />
                <input type="button" class="myYellowButton buttonClose" value="关闭" />
            </div>
        </div>
        <div class="tooltip help hidden" id="Tooltip_Help_MsGrantCardManage">
            <img src="/images/Help.png" alt="Warning" height="48" width="48" />
            <p class="content">
                此处填写关于卡发放编辑页面的帮助信息
            </p>
            <div class="button-close">
                x
            </div>
            <div class="buttonGroup">
                <input type="button" class="myYellowButton buttonNoMoreShow" value="不再显示" />
                <input type="button" class="myYellowButton buttonClose" value="关闭" />
            </div>
        </div>
        <div class="tooltip critical hidden" id="Tooltip_Critical_MsGrantCardManage">
            <img src="/images/critical.png" alt="Warning" height="48" width="48" />
            <p class="content">
                此处填写关于卡发放编辑页面的出错信息
            </p>
            <div class="button-close">
                x
            </div>
            <div class="buttonGroup">
                <input type="button" class="myYellowButton buttonNoMoreShow" value="不再显示" />
                <input type="button" class="myYellowButton buttonClose" value="关闭" />
            </div>
        </div>
        <form id="formMain" method="post" action="">

            <div id="content" class="mini-splitter" style="width: 100%; height: 800px;">
                <div size="350px" showcollapsebutton="true" style="padding: 5px;">
                    <fieldset>
                        <legend>基本信息</legend>
                        <div class="ablock">
                            <label for="Control_GrantNumber">发放单号:</label>
                            <input id="Control_GrantNumber" name="GrantNumber" value="@Model.Id" type="text" class="mini-textbox" enabled="false" />
                        </div>

                        <div class="ablock hidden">
                            <label for="Control_EnCode">企业编码:</label>

                            <!--<input id="Control_EnCode" name="Control_EnCode" class="mini-buttonedit" onbuttonclick="onButtonEditEnterprise" allowinput="false" required="true" value="@Model.EnCode" text="@Model.EnCode" />-->
                            <input id="Control_EnCode" name="EnCode" value="0000" type="text" class="mini-textbox" enabled="false" />
                        </div>

                        <div class="ablock">
                            <label for="Control_GrantDate">发卡日期:</label>
                            <input type="text" id="Control_GrantDate" name="GrantDate" value="@Model.GrantDate" class="mini-datepicker" format="yyyy-MM-dd H:mm:ss" timeformat="H:mm:ss" showtime="true" showokbutton="true" showclearbutton="true" required="false" readonly="readonly" />
                        </div>

                        <div class="ablock">
                            <label for="Control_CardNumber">卡号:</label>

                            <input type="text" value="@Model.CardNumber" class="mini-textbox" name="CardNumber" id="Control_CardNumber" vtype="maxLength:20" enabled="false" />
                            <input id="control_hCardNumber" value="@Model.CardNumber" name="hCardNumber" class="mini-hidden" />
                        </div>

                        <div class="ablock">
                            <label for="Control_SurfaceNumber">卡面明码:</label>

                            <!--<div id="Control_SurfaceNumber" name="SurfaceNumber" class="mini-combobox" style="width: 150px;" popupwidth="400" textfield="SurfaceNumber" valuefield="SurfaceNumber"
                                url="/Ms/GetMsCardArchivesList?CardState=0" showclose="true" oncloseclick="onCloseClick" onvaluechanged="onvaluechanged" emptytext="请选择..." required="true" allowinput="true" value="@Model.SurfaceNumber" text="@Model.SurfaceNumber">
                                <div property="columns">
                                    <div header="卡面明码" field="SurfaceNumber"></div>
                                    <div header="卡号" field="Id"></div>
                                    <div header="卡状态" field="CardState" renderer="onCardStateRender"></div>
                                    <div header="卡类型编码" field="CardCode"></div>
                                    <div header="卡类型名称" field="CardName"></div>
                                    <div header="生效日期" field="EffectiveDate" format="yyyy-MM-dd"></div>
                                    <div header="积分有效期" field="PointsUsefulLifeDate" format="yyyy-MM-dd"></div>
                                    <div header="卡有效期" field="Card_usefulLifeDate" format="yyyy-MM-dd"></div>
                                    <div header="办卡费用" field="TransactCharge"></div>
                                    <div header="押金金额" field="DepositMoney"></div>
                                </div>
                            </div>-->


                            <input id="Control_SurfaceNumber" name="look" class="mini-lookup" style="width: 150px;"
                                textfield="SurfaceNumber" valuefield="SurfaceNumber" popupwidth="auto"
                                popup="#gridPanel" grid="#datagridCard" multiselect="false" value="@Model.SurfaceNumber" text="@Model.SurfaceNumber" />

                            <div id="gridPanel" class="mini-panel" title="header" iconcls="icon-add" style="width: 400px; height: 350px;"
                                showtoolbar="true" showclosebutton="true" showheader="false" bodystyle="padding:0" borderstyle="border:0">
                                <div property="toolbar" style="padding: 5px; padding-left: 8px; text-align: center;">
                                    <div style="float: left; padding-bottom: 2px;">
                                        <span>卡号：</span>
                                        <input id="keyText" class="mini-textbox" onenter="onLookUpSearchClick" />
                                        <a class="mini-button" onclick="onLookUpSearchClick">查询</a>
                                        <a class="mini-button" onclick="onLookUpClearClick">清除</a>
                                    </div>
                                    <div style="float: right; padding-bottom: 2px;">
                                        <a class="mini-button" onclick="onLookUpCloseClick">关闭</a>
                                    </div>
                                    <div style="clear: both;"></div>
                                </div>
                                <div id="datagridCard" class="mini-datagrid" style="width: 100%; height: 100%;"
                                    borderstyle="border:0" showpagesize="false" showpageindex="false"
                                    url="/Ms/GetMsCardArchivesList?CardState=0">
                                    <div property="columns">
                                        <div type="indexcolumn"></div>
                                        <div header="卡面明码" field="SurfaceNumber"></div>
                                        <div header="卡号" field="Id"></div>
                                        <div header="卡状态" field="CardState" renderer="onCardStateRender"></div>
                                        <div header="卡类型编码" field="CardCode"></div>
                                        <div header="卡类型名称" field="CardName"></div>
                                        <div header="生效日期" field="EffectiveDate" format="yyyy-MM-dd"></div>
                                        <div header="积分有效期" field="PointsUsefulLifeDate" format="yyyy-MM-dd"></div>
                                        <div header="卡有效期" field="Card_usefulLifeDate" format="yyyy-MM-dd"></div>
                                        <div header="办卡费用" field="TransactCharge"></div>
                                        <div header="押金金额" field="DepositMoney"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="ablock">
                            <label for="Control_MemberType">会员类型</label>
                            <div id="Control_MemberTyper" name="MemberType" value="2" class="mini-combobox" data="c_MemberType" onvaluechanged="onMemberTypeValueChanged"></div>
                        </div>
                        <div class="ablock">
                            <label for="Control_MsCode">会员编码:</label>

                            <input id="Control_MsCode" name="MsCode" class="mini-buttonedit" onbuttonclick="onButtonEdit" allowinput="false" value="@Model.MsCode" text="@Model.MsCode" />

                            <input id="control_hMsCode" value="@Model.MsCode" name="hMsCode" class="mini-hidden" />
                        </div>

                        <div class="ablock">
                            <label for="Control_PrepaidPassword">储值密码:</label>
                            <input type="text" class="mini-password" name="PrepaidPassword" id="Control_PrepaidPassword" vtype="maxLength:20" />
                        </div>

                        <div class="ablock">
                            <label for="Control_PrepaidPasswordAgain">确认密码:</label>
                            <input type="text" class="mini-password" name="PrepaidPassword" id="Control_PrepaidPasswordAgain" vtype="maxLength:20" />
                        </div>

                        <div class="ablock">
                            <label for="Control_CardCode">卡类型编码:</label>

                            <input type="text" value="@Model.CardCode" class="mini-textbox" name="CardCode" id="Control_CardCode" vtype="maxLength:20" enabled="false" />
                        </div>

                        <div class="ablock">
                            <label for="Control_CardName">卡类型名称:</label>
                            <input type="text" value="@Model.CardName" class="mini-textbox" name="CardName" id="Control_CardName" vtype="maxLength:20" enabled="false" />
                        </div>

                        <div class="ablock">
                            <label for="Control_CardState">卡状态</label>
                            <input type="text" value="@Model.CardState" class="mini-combobox" name="CardState" id="Control_CardState" data="c_CardState" vtype="maxLength:2" enabled="false" />
                        </div>

                        <div class="ablock">
                            <label for="Control_EffectiveDate">生效日期:</label>
                            <input type="text" id="Control_EffectiveDate" name="EffectiveDate" value="@Model.EffectiveDate" class="mini-datepicker" format="yyyy-MM-dd H:mm:ss" timeformat="H:mm:ss" showtime="true" showokbutton="true" showclearbutton="true" required="false" enabled="false" />
                        </div>

                        <div class="ablock">
                            <label for="Control_PointsUsefulLifeDate">积分有效期:</label>
                            <input type="text" id="Control_PointsUsefulLifeDate" name="PointsUsefulLifeDate" value="@Model.PointsUsefulLifeDate" class="mini-datepicker" format="yyyy-MM-dd H:mm:ss" showtime="true" showokbutton="true" showclearbutton="true" enabled="false" />
                        </div>

                        <div class="ablock">
                            <label for="Control_CardUsefulLifeDate">卡有效期:</label>
                            <input type="text" id="Control_CardUsefulLifeDate" name="CardUsefulLifeDate" value="@Model.CardUsefulLifeDate" class="mini-datepicker" format="yyyy-MM-dd H:mm:ss" timeformat="H:mm:ss" showtime="true" showokbutton="true" showclearbutton="true" enabled="false" />
                        </div>

                        <div class="ablock">
                            <label for="Control_TransactCharge">办卡费用:</label>
                            <input type="text" id="Control_TransactCharge" name="TransactCharge" value="@Model.TransactCharge" class="mini-spinner" minvalue="-999999999" maxvalue="999999999" decimalplaces="2" enabled="false" />
                        </div>

                        <div class="ablock">
                            <label for="Control_DepositMoney">押金金额:</label>
                            <input type="text" id="Control_DepositMoney" name="DepositMoney" value="@Model.DepositMoney" class="mini-spinner" minvalue="-999999999" maxvalue="999999999" decimalplaces="2" enabled="false" />
                        </div>

                        <div class="ablock hidden">
                            <label for="Control_CreateDate">创建时间:</label>
                            <input type="text" id="Control_CreateDate" name="CreateDate" value="@Model.CreateDate" class="mini-datepicker" format="yyyy-MM-dd H:mm:ss" timeformat="H:mm:ss" showtime="true" showokbutton="true" showclearbutton="true" />
                        </div>

                        <div class="ablock hidden">
                            <label for="Control_Operator">操作员:</label>
                            <input type="text" value="@Model.Operator" class="mini-textbox" name="Operator" id="Control_Operator" vtype="maxLength:20" />
                        </div>

                        <div class="ablock" style="display: none">
                            <label for="Control_OperatorDate">操作时间:</label>
                            <input type="text" id="Control_OperatorDate" name="OperatorDate" value="@Model.OperatorDate" class="mini-datepicker" format="yyyy-MM-dd H:mm:ss" timeformat="H:mm:ss" showtime="true" showokbutton="true" showclearbutton="true" required="false" />
                        </div>

                    </fieldset>
                </div>
                <div showcollapsebutton="true">
                    <fieldset>

                        <legend>会员信息</legend>

                        @Html.Partial("UCMemberArchives")
                    </fieldset>

                </div>
            </div>
            <div class="clear">
            </div>
            <!--<div class="control-panel">
                <div class="control-button">
                    <input type="button" class="myButton" id="btnFormSubmit" value="发放(Ctrl+S)" />
                    <input type="reset" class="myGrayButton" id="btnFormReset" value="重置(Esc)" />
                    <input type="button" class="myRedButton" id="btnClosePage" value="关闭(Ctrl+Q)" />
                </div>
                <div class="botton-up">
                </div>
            </div>-->
        </form>

    </div>
</body>
</html>
